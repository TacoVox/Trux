# Trux - Report
## Background
The goal for this project was to develop an android application that was targeted towards truck drivers with a main focus on driver safety. We had to integrate our application with an open source software named AGA ([Automotive Grade Android](https://developer.lindholmen.se/redmine/projects/aga/wiki/AGA_Project)) which is an interface for wheel based vehicles (e.g. a truck). AGA sends values for different signals from the vehicle, for example, speed and fuel consumption. We were also supposed to develop the application in Scrum with our supervisor and teachers as product owners.

## Pre-Sprint Planning
The first thing we did was to create a product vision for our application. This started a huge discussion about what kind of app we were going to do. We put down ideas on whiteboards and on Google Docs to make it easier for everyone to contribute. What we came up with was a competitive community for truck drivers and their fleet managers. Our idea was that truck drivers could interact with each other and fleet managers could see statistics of their drivers and compare them. Both drivers and managers could use this application within their company to see performance as well as a fun, and safe environment for drivers when they are on the road.<br><br>
To make the app safer to use while driving we decided to have two different modes. One was a so called “rich mode” - while not driving - in which the user is allowed to use all features of the application. The other was a “simple mode” - while driving - in which we would have limitations to the features available to the user (driver). We thought this would be a good solution to the problem of showing too much information in the app and unnecessarily distracting the driver.<br><br>
We decided to meet every workday of the week to work on the project as well as on other courses and their assignments. Our goal was to be able to do as much as possible and get the best possible grade. This is one thing that worked out very well for us. We met and worked at least six hours a day and we were co-located at Lindholmen all the time, sitting at the same table.

## Sprint 1
### Planning
The first thing we started planning in the sprint meeting was to define the user stories we were going to use for the project so that we know what features to include. Afterwards we made a list for all of them and tried to estimate their priority and story points. We also considered how much time we would be able to spend working on them, considering other courses and their related assignments. These estimations were not easy to do and we noticed later that we did not estimate the time that well.<br><br>
One thing that took a lot of time in the planning phase was to make the mentioned priority list because our group likes to discuss and talk through a lot of aspects which is a good way to get all the angles, pros and cons. Even though this is really time consuming, in the end it was worth to have a planned application. After this we started creating tasks for the user stories to get a more detailed sense about what had to be done for each feature.<br>
From a design point of view we decided to keep it very simple. We figured buttons would be the best way to go about it - large and easily identifiable buttons to make sure that the app is safe to use even when driving. We also decided on having one home screen from where you could navigate through either your statistics, profile or the community part of the application. Finally, we focused on the statistics page for the rest of the sprint.
### How We Worked
We split our group into two subgroups: a GUI group and a server/AGA group. The GUI group took care of the design and functionality of the application while the server group handled AGA, created a communication protocol and database connection. Both groups started with designing the application for their area so the GUI group started to design the GUI and how to navigate through the app. The server group designed the system and server, how to connect to it, how to handle the data and how to integrate AGA into the app. The GUI group started to do pair-programing to learn how android works and created the first activities. This was a good way to start because we did not know much about how to connect activities and how to make a nice GUI design. So doing some pair-programing turned out to be a good approach to make everyone familiar with Android Studio and Android. We might have lost some hours by doing that in the beginning but we felt that it was worth it since everyone got to know what we had and what needed to be done. The server group split up their work within their group so that they had different responsibilities within the group, for example, modelling the database, connecting to AGA, and creating the client-server connection.
### Hours Spent
The first sprint we spent only about 8 hours each on the project. These hours were distributed between the user stories, designing the different parts and working on the first tasks.
### Discussion
We overestimated what we could do within this sprint. We were not done with showing the statistics from the database in a nice way. A lot of time was spent on assignments from other courses which was really time consuming. There were a lot of factors to take in consideration when estimating how much we could do in the sprint but we did not foresee that the assignments would take so much time for us. One way we could have done it would have been to set a smaller goal, and if we were able to achieve that goal we could have started working on a new task if there was more time.<br><br>
On the server side the key points were decided fairly quickly: the server would run on an ArchLinux architecture, a MariaDB (MySQL fork) database was selected to handle the database and after a short discussion we decided to write the server application in Java as well as to use a serialized object stream to send data between the Android app and the server side itself. We also agreed that we will use a superclass/datatype called “Data” which will be our standard skeleton for all objects which will be send between the two sides. We felt very comfortable with these decisions because we knew already how to use a MySQL database as well as Linux as an operating system. The only thing which was new for us was the serialized object stream via internet over TCP.

## Sprint 2
### Planning
This sprint we agreed to keep working on the features from the first sprint because we did not finish them. We took into consideration that we had assignments as well as upcoming exams during this sprint so we did not add any new tasks to our backlog. Instead we said that we would focus more on the exams than on the project because they felt more important at the time being. In the end this was a wise choice because everyone in the group passed their exams which meant we did not have to spend more time on those courses and we could focus more on the project.
### How We Worked
As mentioned, the group's main focus this sprint was to continue on the previous tasks but it was not a priority for us as a group due to the exams coming up. The little time we worked on the project, we sat down at the same table and continued working as the last sprint.
### Hours Spent
This sprint we spent 10 hours per person in the group for the project and it was mainly to have something to show for the Alpha presentation. The rest of the time we spent preparing for the exams.
### Discussion
In this sprint the other courses took a lot of time which we rather wanted to put into the project to have something more to show on the Alpha presentation. We had an Alpha release which allowed the user to navigate between a few screens in the app, giving users and stakeholders a vague idea on what would follow in later iterations. Because we knew we would be able to focus all our time on the project in the following weeks, we were not too worried with our lack of progress at this time. In retrospect, this may have been partly because we underestimated the learning curve of Android development.

## Sprint 3
### Planning
We knew that in this sprint we had 3 weeks timespan in which we would do project work, a home exam and an assignment we had to resubmit. The goal was to finish all the tasks from the two previous sprints and we decided once again not to add any new tasks. We wanted to focus on the ones we already had and try to finish them because we decided on them in the very first sprint: to collect data from AGA, send data between the client and server, and display it in a nice way to the user. With more insight into the process, we also did some work refining the communication protocol. Other areas of concern were to research different techniques Android provides for navigation between different application components as well as implementing them.  
### How We Worked
During the sprint we worked co-located as usual so it was easy to communicate within the group. How we worked varied from time to time - sometimes when we tried to fix something we did pair-programming and other times we worked individually on different parts.
### Hours Spent
For the two first weeks of the sprint we spent 7 hours each per workday working on the project. The different parts were showing the statistics, AGA connection, server, gui design, data handler and data types. The last week was mainly focused on the home exam in Quality Management. 
### Discussion
The way we worked during this sprint was successful. We completed all of the tasks and finished our other courses with successful results. This was because our effort to meet at least six hours every workday during the week and focus on what needed to be done for the project or other courses. The pair programming turned out to be really effective and everyone that did it felt that the quality was higher in the code written in pairs. We also learned a lot from each other while doing it. For the server side we talked about which datatypes we would need to add.
### Other Courses
For the course DIT845 - Quality Management we had a home exam about security and privacy on smart devices. We used our project as a case study, and learned more about issues related to security and privacy from a quality perspective. This gave us the opportunity to re-evaluate some of our decisions. In the course we also got acquainted with the concept of technical debt and how to deal with it. In the project we then used SonarQube as a tool to evaluate the technical debt of the server code.

## Sprint 4
### Planning
We started the sprint meeting with deciding which user stories we would work on and break them down into tasks. At this point we only had the project to focus on because all other courses were done. This made it possible for us to commit every workday to the project. We set up the tasks “user login feature”, “group/company feature”, “compare driver/group”, “register feature”, “compare friends/groups” and “charts and averages”. 
### How We Worked
Co-located as before.
### Hours Spent
This sprint we worked on the project at least 7 hours per workday for the different parts.
### Discussion
During this sprint we came across a hard question - “how do we determine if the user is a good driver?”. One of the core ideas for the project was to have a competitive application that rewards the one who drives the safest. We had long discussions but we could not figure out how to measure this in a good way. That is why we decided to take it away from the application and focus more on the social aspects of the application. When we did the product vision we should have thought about this so that the product was really thought through and to avoid change in direction.<br><br> 
It is also worth noting that the tasks we decided on in the sprint meeting were a bit too big and vague. We received feedback from our supervisor and learned that we need to have more concrete task definitions in subsequent sprints.<br><br>
In the end of sprint 4 we had a Beta presentation. We received some feedback amongst which was a reminder of how pointless it is for a driver to see real-time data such as speed, etc. At this time we also realised that our GUI was not very visually appealing.

## Sprint 5
### Planning
After the beta presentation we got a lot of inspiration and as a result came up with a lot of ideas for our application. During the sprint meeting we decided to focus on the community features we had planned to implement from the beginning. In the previous sprint we decided to start with some community features as well but ended up working mostly on the statistics and session handling parts of the application either way because we underestimated the workload of these things. For various reasons, of which some are discussed in the discussion part of sprint 4, we gradually, over the course of a couple of weeks, decided to shift our focus more towards the community features and away from things like comparing statistics and fleet management.<br><br>
For navigation through the community features, we agreed to try and implement a tabbed interface. We had just recently learned how to use swipe navigation in another part of the application and it felt a lot more interactive than just using buttons for navigation. It is also easy to use while driving.
### How We Worked
As before - co-located.
### Hours Spent
Full-time 8 hours per member per day.
### Discussion
This sprint was a turning point for our application. First and foremost, the visual design of the app was improved significantly. While working on the design of the community features, we realised the simplicity and the interactivity of using tabs instead of buttons to navigate through the app. Using tabs decreased the number of interactions with the phone to complete most tasks. It was a lot more interactive and fun to use and the whole application looked much more interesting.<br><br>
Therefore, we decided not only to implement the tab navigation in the community part of the app (which was the original idea), but to change the design of the entire app to implement tab navigation. Even though we had to redo almost all the GUI design in the application that we had done it turned out for the best now when we look back at it. The old design compared to the new one was really bad from a user perspective but as beginners in Android it was a start point and we learnt much from it. After this sprint most of us had a thorough understanding of how and when to use the basic Android building blocks like Activities, Fragments, AsyncTasks, etc.

## Sprint 6
### Planning
For this sprint meeting we sat down and looked at what needed to be done for the final presentation. We wrote our TODO list on the whiteboard to make it really clear what needed to be done. We did this every day of the first week to make sure we didn’t miss anything. Some of the features we needed to finish were the messaging function, location updates and friends requests.
### How We Worked
The first week we worked as usual but this time we talked a lot more about what needed to be done on every single day, sometimes more than once. We did this because we felt the pressure of having the app as complete and stable as possible. The second week we continued to work on the application and also started to work on the documentation for the project. We split up the workload so everyone knew what to do for the documentation and all it parts - post-mortem report, user’s manual, developer’s manual and server’s manual. 
### Hours Spent
These two weeks for this sprint we spent more hours per day than usual at Lindholmen. We worked at least 8 hours per day and the last day before the presentation it was 11-12 hours. 
### Discussion
The upcoming final presentation and submission made us really productive in the last sprint. We worked harder, more efficiently and closer to each other to get everything working, and to make the application as good as possible. We received good feedback from the teachers at the presentation that we took in consideration to make it better and safer to use for drivers. As an example, the version we showed at the presentation allowed the user to scroll the map while driving. In the final version, we allow scrolling only when not too distracted by driving.<br><br>
This sprint was not only focusing on coding, we also had to write the post-mortem report, user manual, developer manual as well as the server manual, which we mentioned in the how we worked section. We handled the documentation part by dividing the work in a good way so we could do everything much faster and more effectively than having everyone involved with all parts. It would have been way too time consuming to have everyone writing in every file. Instead we looked over everything that everyone did and edited the text where it needed to be expanded or lessened depending on the text, as well as include new thoughts about the subject.<br><br>
From a design perspective, another thing we changed during this sprint is to use icons instead of text on buttons/tabs. Not only does this look better but it is also helpful for the user, especially for someone who is driving. Recognizing an image is less distracting than reading even a short piece of text. However, in some cases, some text is used alongside the icon to clarify the function of the button.

## Conclusion
### Pros And Cons About How We Worked
The biggest pros of how we worked was that we had a good workflow. We were close to each other so it was easy to communicate and everyone knew what to do each day, and help could be found nearby. It was a successful way to work for our group and everyone is happy about it. When seeing other groups having trouble collaborating because of not meeting often enough or not talking through big decisions, we feel even more strongly that it was a good decision to meet every day.<br><br>
One problem we had within the group was the time people showed up on the workday. It varied a lot and caused some irritation within the group.<br><br>
As previously mentioned we did a lot of pair programming throughout the whole project. Some of us had worked with pair programming before and found it very helpful. It turned out to be just as useful this time around. Most of the time we assigned the tasks that we decided upon at the beginning of a sprint to two or more people. This was intentional seeing as we liked having a few people able to discuss the task and thereby also encouraging the team to do pair programming. We had a lot of success discovering errors quicker and coming up with solutions faster, using pair programming. It might have taken us more time doing the tasks this way but if we look at the longer perspective we saved time because of the error and bug discovering early on.<br><br>
We also got acquainted with some tools like Jenkins and SonarQube during this project, as well as got deeper experience with GitHub and other software. 
### Problems During Development
Before the Alpha presentation we had problems with some .gitignore files that we could not resolve so after that we created a new repository and made it better with the .gitignore files and inserted our code for the Alpha.<br><br>
Sometimes when we had discussions people could get a little mad at each other when deciding which path to take for some solution, and there it could be a little fight, but often it resolved when one of the persons came up with a better argument for his idea. This was probably also a reasonable price to pay for having a more democratic structure in our group rather than having one or more leaders.
### General Discussion
When we were starting with the product vision and the user stories, we included a lot of features. We underestimated the amount of time it would take us to create the features we planned and mentioned in the vision document. That is one thing we need to consider in future projects - to really think about what we are able to do within the given time limit and do not underestimate the time the other courses will take.<br><br>
Now we left out some features that we would have wanted to have in the app, e.g. the community groups and statistics for a manager. It was not only the time limit that changed the application for us, it was also the direction we took and the learning curve of Android development.<br><br>
We had discussions on how to determine which driver was a good driver in a good way and we did not come up with a good way to do it. Therefore we did not use a lot of the user stories, for example, “compare statistics”.<br><br>
At the presentation we saw people who had developed applications with different features we planned to have in our app as well but we did not have time to do them. They had found good solutions how to measure, e.g. eco driving, that could have been good for us to have for our competitive feature that we wanted in the beginning. But if we would have done something similar, we might not have had time to do all the other social aspects of the app. Was it better or worse not to have the competitive function? That is a hard question, it was the original plan but maybe we were better off without it after all.<br><br>
With one more additional month we would have delivered all planned features. Especially the last three or four weeks were very productive because we really got the hang of Android development and the structure of our application.<br><br>
The application turned out to be good and we are proud of it and what we have done this semester.
